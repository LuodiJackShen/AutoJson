plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.5.1'
}

group 'com.jack'
version '2.0'

repositories {
    mavenLocal()
    maven { url "https://maven.aliyun.com/repository/public" }
    mavenCentral()
    jcenter()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

// See https://github.com/JetBrains/gradle-intellij-plugin/
intellij {
//    version '2020.2.3'  //android studio 4.1以下及Idea 2020.2.3 ，不包括4.1
    version 'IU-201.6668.121' //android studio 4.1
    plugins 'java', 'com.jetbrains.sh:201.6668.74', "org.jetbrains.plugins.terminal:201.6668.74"
//    version 'IU-202.6397.94' //android studio 4.1.1
//    plugins 'java', 'com.jetbrains.sh:202.6397.21', "org.jetbrains.plugins.terminal:202.6397.21"
}
patchPluginXml {
    changeNotes """
        - v1.8<br>
        &emsp;&emsp;&emsp; 1、新增：JsonSerializable-Terminal，生成代码的同时自动运行flutter pub run命令<br>
        &emsp;&emsp;&emsp; 2、新增：JaguarSerializer-Terminal，生成代码的同时自动运行flutter pub run命令<br>
        &emsp;&emsp;&emsp; 3、新增：AutoJson-Terminal，自动运行flutter pub run命令<br>
        
        - v1.6 / 1.7<br>
        &emsp;&emsp;&emsp;1、支持Android Studio 4.1。<br>
        &emsp;&emsp;&emsp;2、检测到有自定义类时，自动给JsonSerializable加上 explicitToJson: true 属性。<br> 
        &emsp;&emsp;&emsp;3、检测到有三方import时，自动将其对齐到part代码行上面.<br>
        &emsp;&emsp;&emsp;4、android 4.1 以下和Idea 2020.2.3以下请使用 AutoJson 1.5 版本.<br>
               
        - v1.5  修复部分问题；<br>
        - v1.4  终于支持jaguar_serializer了；<br>
        - v1.3  修改extends、implements关键词带来的问题；细节优化；<br>
        - v1.2  细节优化。<br>
        - v1.1  ① 体验提升：不用选中类名即可生成需要的代码;② 功能限制：仅在 <b>xxx.dart</b> 文件中可用此插件。<br>
        - v1.0  实现基本功能:自动生成序列化需要的代码。<br>"""
}